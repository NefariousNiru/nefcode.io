/* file: src/index.css */
@import "tailwindcss";

/* --------------------------------------------
   Design tokens (light + dark) via CSS vars
   -------------------------------------------- */
@layer base {
	:root {
		--bg: 248 250 252;
		--fg: 15 23 42;
		--muted: 71 85 105;
		--muted-2: 100 116 139;

		--card: 255 255 255;
		--card-2: 248 250 252;
		--border: 226 232 240;
		--ring: 148 163 184;

		--primary: 99 102 241;
		--primary-2: 168 85 247;
		--accent: 34 211 238;
		--success: 34 197 94;
		--warn: 245 158 11;
		--danger: 239 68 68;

		--shadow: 15 23 42;

		--r-xl: 22px;
		--r-lg: 18px;
		--r-md: 14px;

		--font-sans:
			ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica,
			Arial, "Apple Color Emoji", "Segoe UI Emoji";
	}

	.dark {
		--bg: 3 7 18;
		--fg: 226 232 240;
		--muted: 148 163 184;
		--muted-2: 100 116 139;

		--card: 12 17 34;
		--card-2: 8 12 26;
		--border: 30 41 59;
		--ring: 71 85 105;

		--shadow: 0 0 0;
	}

	html {
		font-family: var(--font-sans);
		text-rendering: optimizeLegibility;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}

	body {
		background-color: rgb(var(--bg));
		color: rgb(var(--fg));
		min-height: 100dvh;
	}

	:focus-visible {
		outline: 2px solid rgb(var(--primary));
		outline-offset: 2px;
	}
}

/* --------------------------------------------
   Reusable components (glassy/bubbly)
   -------------------------------------------- */
@layer components {
	.app-bg {
		position: relative;
		overflow: hidden;
	}

	/* Subtle “surface gradient” under everything */
	.app-bg::before {
		content: "";
		position: absolute;
		inset: -80px;
		z-index: 0;
		pointer-events: none;
		opacity: 0.95;
		background:
			radial-gradient(
				900px 600px at 10% 10%,
				rgba(99, 102, 241, 0.18),
				transparent 60%
			),
			radial-gradient(
				800px 520px at 88% 14%,
				rgba(168, 85, 247, 0.14),
				transparent 62%
			),
			radial-gradient(
				900px 620px at 50% 92%,
				rgba(34, 211, 238, 0.1),
				transparent 58%
			);
		filter: blur(0px);
	}

	.dark .app-bg::before {
		opacity: 0.75;
		background:
			radial-gradient(
				900px 600px at 10% 10%,
				rgba(99, 102, 241, 0.16),
				transparent 62%
			),
			radial-gradient(
				800px 520px at 88% 14%,
				rgba(168, 85, 247, 0.12),
				transparent 64%
			),
			radial-gradient(
				900px 620px at 50% 92%,
				rgba(34, 211, 238, 0.09),
				transparent 60%
			);
	}

	/* Fewer, larger bubbles */
	.bubbles {
		position: absolute;
		inset: -60px;
		pointer-events: none;
		z-index: 0;
	}

	.bubble {
		position: absolute;
		border-radius: 9999px;
		filter: blur(26px);
		opacity: 0.33;
		transform: translateZ(0);
		animation: floaty 14s ease-in-out infinite;
		background: radial-gradient(
			circle at 30% 30%,
			rgba(99, 102, 241, 0.52),
			rgba(168, 85, 247, 0.18) 58%,
			rgba(34, 211, 238, 0.06) 76%,
			transparent 80%
		);
	}

	.dark .bubble {
		opacity: 0.26;
		background: radial-gradient(
			circle at 30% 30%,
			rgba(99, 102, 241, 0.42),
			rgba(168, 85, 247, 0.15) 58%,
			rgba(34, 211, 238, 0.06) 76%,
			transparent 80%
		);
	}

	@keyframes floaty {
		0% {
			transform: translate3d(0, 0, 0) scale(1);
		}
		50% {
			transform: translate3d(0, -12px, 0) scale(1.02);
		}
		100% {
			transform: translate3d(0, 0, 0) scale(1);
		}
	}

	.glass {
		background-color: rgba(255, 255, 255, 0.66);
		border: 1px solid rgba(226, 232, 240, 0.7);
		box-shadow:
			0 18px 50px rgba(15, 23, 42, 0.08),
			0 2px 10px rgba(15, 23, 42, 0.05);
		backdrop-filter: blur(14px);
		border-radius: var(--r-xl);
	}

	.dark .glass {
		background-color: rgba(12, 17, 34, 0.66);
		border: 1px solid rgba(30, 41, 59, 0.8);
		box-shadow:
			0 22px 60px rgba(0, 0, 0, 0.4),
			0 2px 10px rgba(0, 0, 0, 0.24);
	}

	.card {
		border-radius: var(--r-xl);
		background-color: rgb(var(--card));
		border: 1px solid rgb(var(--border));
		box-shadow:
			0 18px 50px rgba(15, 23, 42, 0.07),
			0 1px 0 rgba(15, 23, 42, 0.04);
	}

	.dark .card {
		box-shadow:
			0 22px 60px rgba(0, 0, 0, 0.4),
			0 1px 0 rgba(255, 255, 255, 0.03);
	}

	.chip {
		border-radius: 9999px;
		border: 1px solid rgb(var(--border));
		background-color: rgba(255, 255, 255, 0.65);
		color: rgb(var(--muted));
	}

	.dark .chip {
		background-color: rgba(12, 17, 34, 0.65);
		color: rgb(var(--muted));
	}

	.btn {
		display: inline-flex;
		align-items: center;
		justify-content: center;
		gap: 0.5rem;
		border-radius: 9999px;
		padding: 0.6rem 1rem;
		border: 1px solid rgb(var(--border));
		background-color: rgb(var(--card));
		color: rgb(var(--fg));
		box-shadow:
			0 10px 28px rgba(15, 23, 42, 0.08),
			0 1px 0 rgba(15, 23, 42, 0.04);
		transition:
			transform 120ms ease,
			box-shadow 120ms ease,
			background-color 120ms ease;
		user-select: none;
	}

	.btn:hover {
		transform: translateY(-1px);
		box-shadow:
			0 16px 40px rgba(15, 23, 42, 0.1),
			0 1px 0 rgba(15, 23, 42, 0.05);
	}

	.btn:active {
		transform: translateY(0px);
	}

	.btn-primary {
		border-color: rgba(99, 102, 241, 0.35);
		background: linear-gradient(
			135deg,
			rgba(99, 102, 241, 0.95),
			rgba(168, 85, 247, 0.92)
		);
		color: white;
		box-shadow:
			0 18px 55px rgba(99, 102, 241, 0.22),
			0 10px 30px rgba(168, 85, 247, 0.18);
	}

	.btn-primary:hover {
		box-shadow:
			0 22px 70px rgba(99, 102, 241, 0.28),
			0 12px 34px rgba(168, 85, 247, 0.22);
	}

	.btn-ghost {
		background-color: transparent;
		box-shadow: none;
	}

	.btn-ghost:hover {
		background-color: rgba(148, 163, 184, 0.12);
		transform: none;
	}

	.dark .btn-ghost:hover {
		background-color: rgba(100, 116, 139, 0.16);
	}

	.input {
		width: 100%;
		border-radius: 9999px;
		border: 1px solid rgb(var(--border));
		background-color: rgba(255, 255, 255, 0.7);
		color: rgb(var(--fg));
		padding: 0.65rem 0.9rem;
		outline: none;
		transition:
			box-shadow 120ms ease,
			border-color 120ms ease;
	}

	.dark .input {
		background-color: rgba(8, 12, 26, 0.7);
	}

	.input:focus {
		border-color: rgba(99, 102, 241, 0.55);
		box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.18);
	}

	.muted {
		color: rgb(var(--muted));
	}

	.link {
		color: rgb(var(--fg));
		text-decoration: none;
	}

	.link:hover {
		text-decoration: underline;
		text-underline-offset: 3px;
	}
}

@layer utilities {
	.container-x {
		@apply mx-auto w-full md:max-w-4/5 lg:max-w-4/5 px-4 sm:px-2 lg:px-8;
	}

	.grid-auto-fit {
		grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
	}
}

/* Compact clickable company tile */
.company-tile {
	border: 1px solid rgb(var(--border));
	border-radius: 1.25rem; /* 20px-ish */
	padding: 1rem;
	background: rgba(var(--card), 0.55);
	backdrop-filter: blur(10px);
	transition:
		transform 180ms ease,
		box-shadow 180ms ease,
		background-color 180ms ease,
		border-color 180ms ease;
}

.company-tile:hover {
	transform: translateY(-2px);
	box-shadow: 0 18px 55px rgba(0, 0, 0, 0.18);
	border-color: rgba(var(--fg), 0.16);
	background: rgba(var(--card), 0.7);
}

/* --- stats widgets --- */
.qs-card {
	position: relative;
	overflow: hidden;
	border-radius: var(--r-xl);
	border: 1px solid rgb(var(--border));
	background: rgba(var(--card), 0.62);
	backdrop-filter: blur(14px);
	box-shadow:
		0 18px 50px rgba(15, 23, 42, 0.08),
		0 2px 10px rgba(15, 23, 42, 0.05);
}

.qs-card::before {
	content: "";
	position: absolute;
	inset: 0;
	pointer-events: none;
	background:
		radial-gradient(
			600px 280px at 15% 0%,
			rgba(99, 102, 241, 0.18),
			transparent 60%
		),
		radial-gradient(
			540px 260px at 85% 0%,
			rgba(168, 85, 247, 0.14),
			transparent 62%
		),
		radial-gradient(
			700px 360px at 50% 100%,
			rgba(34, 211, 238, 0.1),
			transparent 58%
		);
	opacity: 0.95;
}

.dark .qs-card {
	background: rgba(12, 17, 34, 0.62);
	box-shadow:
		0 22px 60px rgba(0, 0, 0, 0.45),
		0 2px 10px rgba(0, 0, 0, 0.24);
}

.qs-card > * {
	position: relative;
	z-index: 1;
}

.qs-badge {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	height: 40px;
	width: 40px;
	border-radius: 9999px;
	border: 1px solid rgba(var(--fg), 0.1);
	background: linear-gradient(
		135deg,
		rgba(99, 102, 241, 0.18),
		rgba(168, 85, 247, 0.14)
	);
}

.qs-divider {
	height: 1px;
	background: rgba(var(--fg), 0.1);
}

.dark .qs-divider {
	background: rgba(255, 255, 255, 0.1);
}

.qs-tile {
	border-radius: 16px;
	border: 1px solid rgba(var(--fg), 0.1);
	background: rgba(255, 255, 255, 0.55);
	padding: 10px 12px;
}

.dark .qs-tile {
	background: rgba(12, 17, 34, 0.55);
}

.qs-tile-title {
	font-size: 12px;
	color: rgb(var(--muted));
}

.qs-tile-value {
	margin-top: 4px;
	font-size: 14px;
	font-weight: 700;
	color: rgb(var(--fg));
}

.qs-tile-sub {
	margin-top: 2px;
	font-size: 11px;
	color: rgb(var(--muted));
}

/* colored tints for tiles */
.qs-easy {
	border-color: rgba(34, 197, 94, 0.28);
	background: linear-gradient(
		135deg,
		rgba(34, 197, 94, 0.14),
		rgba(255, 255, 255, 0.45)
	);
}
.qs-medium {
	border-color: rgba(59, 130, 246, 0.28);
	background: linear-gradient(
		135deg,
		rgba(59, 130, 246, 0.14),
		rgba(255, 255, 255, 0.45)
	);
}
.qs-hard {
	border-color: rgba(244, 63, 94, 0.28);
	background: linear-gradient(
		135deg,
		rgba(244, 63, 94, 0.14),
		rgba(255, 255, 255, 0.45)
	);
}
.qs-total {
	border-color: rgba(99, 102, 241, 0.28);
	background: linear-gradient(
		135deg,
		rgba(99, 102, 241, 0.14),
		rgba(255, 255, 255, 0.45)
	);
}

.dark .qs-easy,
.dark .qs-medium,
.dark .qs-hard,
.dark .qs-total {
	background: linear-gradient(
		135deg,
		rgba(255, 255, 255, 0.04),
		rgba(12, 17, 34, 0.55)
	);
}

.qs-row {
	border-radius: 16px;
	border: 1px solid rgba(var(--fg), 0.1);
	background: rgba(255, 255, 255, 0.52);
	padding: 10px 12px;
}

.dark .qs-row {
	background: rgba(12, 17, 34, 0.52);
}

.qs-bar {
	margin-top: 6px;
	height: 7px;
	border-radius: 9999px;
	background: rgba(var(--fg), 0.1);
	overflow: hidden;
}

.qs-bar > div {
	height: 100%;
	border-radius: 9999px;
	background: linear-gradient(
		90deg,
		rgba(99, 102, 241, 0.75),
		rgba(168, 85, 247, 0.65)
	);
}

.qs-pill {
	border-radius: 9999px;
	border: 1px solid rgba(var(--fg), 0.12);
	padding: 6px 10px;
	font-size: 12px;
	color: rgb(var(--fg));
	background: rgba(255, 255, 255, 0.6);
}

.dark .qs-pill {
	background: rgba(12, 17, 34, 0.6);
}

.qs-pill-muted {
	color: rgb(var(--muted));
}

/* --- Efficiency widget --- */
.eff-row {
	border-radius: var(--r-xl);
	border: 1px solid rgb(var(--border));
	padding: 1rem;
	transition:
		transform 120ms ease,
		box-shadow 120ms ease,
		border-color 120ms ease,
		background-color 120ms ease;
	box-shadow: 0 6px 18px rgba(15, 23, 42, 0.06);
}

.dark .eff-row {
	box-shadow: 0 10px 28px rgba(0, 0, 0, 0.35);
}

/* the small pill for EASY/MED/HARD */
.eff-chip {
	border-radius: 9999px;
	border: 1px solid rgba(var(--fg), 0.08);
	padding: 0.125rem 0.625rem;
	font-size: 11px;
	font-weight: 800;
	letter-spacing: 0.06em;
}

/* P95 badge */
.eff-p95 {
	border-radius: 0.5rem;
	padding: 0.125rem 0.5rem;
	font-size: 11px;
	font-weight: 600;
	background: rgba(148, 163, 184, 0.18);
	color: rgb(var(--muted));
}

.dark .eff-p95 {
	background: rgba(30, 41, 59, 0.65);
	color: rgb(var(--muted));
}

/* Stat boxes inside the row */
.eff-stat {
	border-radius: 0.75rem;
	border: 1px solid rgba(15, 23, 42, 0.04);
	background: rgba(255, 255, 255, 0.45);
	padding: 0.5rem;
	text-align: center;
}

.dark .eff-stat {
	border-color: rgba(255, 255, 255, 0.06);
	background: rgba(255, 255, 255, 0.06);
}

.eff-stat-label {
	font-size: 10px;
	font-weight: 600;
	letter-spacing: 0.1em;
	text-transform: uppercase;
	color: rgb(var(--muted-2));
}

.eff-stat-value {
	margin-top: 2px;
	font-size: 12px;
	font-weight: 800;
	color: rgb(var(--fg));
}

/* --- Difficulty themes (LIGHT) --- */
.eff-easy {
	border-color: rgba(16, 185, 129, 0.22);
	background: linear-gradient(135deg, rgba(16, 185, 129, 0.12), #ffffff);
}

.eff-medium {
	border-color: rgba(245, 158, 11, 0.22);
	background: linear-gradient(135deg, rgba(245, 158, 11, 0.12), #ffffff);
}

.eff-hard {
	border-color: rgba(244, 63, 94, 0.22);
	background: linear-gradient(135deg, rgba(244, 63, 94, 0.12), #ffffff);
}

.eff-easy .eff-chip {
	border-color: rgba(16, 185, 129, 0.18);
	background: rgba(16, 185, 129, 0.1);
	color: rgb(5 150 105);
}

.eff-medium .eff-chip {
	border-color: rgba(245, 158, 11, 0.18);
	background: rgba(245, 158, 11, 0.1);
	color: rgb(217 119 6);
}

.eff-hard .eff-chip {
	border-color: rgba(244, 63, 94, 0.18);
	background: rgba(244, 63, 94, 0.1);
	color: rgb(225 29 72);
}

/* --- Difficulty themes (DARK) --- */
.dark .eff-easy {
	border-color: rgba(16, 185, 129, 0.26);
	background: linear-gradient(
		135deg,
		rgba(16, 185, 129, 0.1),
		rgba(15, 23, 42, 0.6)
	);
}

.dark .eff-medium {
	border-color: rgba(245, 158, 11, 0.26);
	background: linear-gradient(
		135deg,
		rgba(245, 158, 11, 0.1),
		rgba(15, 23, 42, 0.6)
	);
}

.dark .eff-hard {
	border-color: rgba(244, 63, 94, 0.26);
	background: linear-gradient(
		135deg,
		rgba(244, 63, 94, 0.1),
		rgba(15, 23, 42, 0.6)
	);
}

.dark .eff-easy .eff-chip {
	color: rgb(110 231 183);
}

.dark .eff-medium .eff-chip {
	color: rgb(253 230 138);
}

.dark .eff-hard .eff-chip {
	color: rgb(251 113 133);
}

/* Efficiency row text helpers - token driven */
.eff-meta {
	font-size: 11px;
	color: rgb(var(--muted));
}

.eff-meta-strong {
	font-weight: 600;
	color: rgb(var(--fg));
}

.eff-p95-strong {
	font-weight: 800;
	color: rgb(var(--fg));
}
